<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>AI Tournaments Replay</title>
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-173346924-1"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'UA-173346924-1');</script>
		<meta content="width=device-width, initial-scale=1.0" name="viewport">
		<meta content="yes" name="mobile-web-app-capable">
		<script src="https://cdn.jsdelivr.net/npm/jsoneditor@9.5.0/dist/jsoneditor.min.js"></script>
		<link href="https://cdn.jsdelivr.net/npm/jsoneditor@9.5.0/dist/jsoneditor.min.css" rel="stylesheet">
		<link rel="stylesheet" href="../defaults.css">
		<style>
			html {
				padding: 0;
			}
			body {
				margin: 0;
				display: flex;
				flex-direction: column;
			}
			#padding-wrapper {
				padding: 2px 4px 4px 8px;
			}
			iframe {
				border: 0;
			}
			#control-container>* {
				vertical-align: top;
			}
			.error {
				color: red;
			}
			#editor{
				height: 400px;
			}
			#load-previous-replay-clear{
				color: red;
			}
			#load-previous-replay-clear[type="button"]:disabled{
				color: darkred;
			}
		</style>
		<script src="index.js"></script>
		<script src="../GitHubApi.js"></script>
	</head>
	<body onload="a()">
		<div id="padding-wrapper">
			<div id="control-container">
				<input type="button" id="load-previous-replay" value="Load previous replay"/>
				<label id="lblData" for="data">Data:</label>
				<span id="invalid-input" class="hidden error">Invalid input.</span>
				<div id="editor" class="hidden"></div>
				<input type="button" id="lock" value="Lock" disabled/>
				<select id="replay-viewers" class="hidden sticky">
					<option id="default-option" selected>Default</option>
				</select>
				<input type="button" id="open-replay-in-new-tab" value="New tab" class="sticky"/>
				<div id="external-page-warning">
					<img src="" onerror="console.log('// TODO: Display a warning that only Default associated with AI-Tournaments. Confirm to allow load more options. Store confirmation with GitHub user.')"></img>
				</div>
			</div>
			<div id="replay-container-failToLoad" class="hidden error">
				Replay failed to load <a href="https://ai-tournaments.github.io/AI-Tournaments/ReplayHelper.js">ReplayHelper.js</a>.
			</div>
			<div id="previous-replay-container" class="hidden">
				<label>Previous replay:</label>
				<select id="previous-replays"></select>
				<div id="previous-replays-controller">
					<input type="button" id="load-previous-replay-confirm" value="Load"/>
					<input type="button" id="load-previous-replay-rename" value="Rename"/>
					<input type="button" id="load-previous-replay-delete" value="Delete"/>
					<input type="button" id="load-previous-replay-cancel" value="Close"/>
					<input type="button" id="load-previous-replay-clear" value="Remove all"/>
				</div>
				<div id="previous-replay-rename" class="hidden">
					<input type="text" id="previous-replay-rename-input" value=""/>
					<input type="button" id="previous-replay-rename-save" value="Save"/>
					<input type="button" id="previous-replay-rename-cancel" value="Cancel"/>
				</div>
			</div>
		</div>
		<iframe id="replay-container" sandbox="allow-scripts" class="hidden"></iframe>
	</body>
</html>
